<div class="row">
  <div class="col-md-offset-2 col-md-8">
    <h1 class="form-title">Nové cvičenie 1/3</h1>

    <h3 class="form-subtite">Nastavenie parametrov cvičenia</h3>

    <%= form_for @exercise, url: wizard_path do |f| %>
        <% if @exercise.errors.any? %>
            <div class="error_messages">
              <h2><%= pluralize(@exercise.errors.count, "error") %> prohibited this user from being saved:</h2>
              <ul>
                <% @exercise.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                <% end %>
              </ul>
            </div>
        <% end %>

        <div class="form-group">
          <%= f.label :template, t('exercise.build.setup.choose_exercise') %>
          <%= f.collection_select :template_id, ExerciseTemplate.all, :id, :name, {include_blank: true}, {data: {as: :select2}} %>
        </div>


        <div class="form-group checkable to-drag">
          <%= f.radio_button :elements, :dragging %>
          <%= f.label :available_elements_to_drag, t('exercise.build.setup.available_elements_to_drag') %>
          <div class="row">
            <div class="col-md-6">
              <strong class="group-title">Vetné členy</strong>
              <%= f.collection_check_boxes(:element_ids, Element.elements, :id, :name) do |b| %>
                  <div class="row element">
                    <div class="col-xs-1">
                      <%= b.check_box(class: 'check_box') %>
                    </div>
                    <div class="col-xs-11">
                      <label class="text-left checkbox-option"><%= b.object.name %></label>
                    </div>
                  </div>
              <% end %>
            </div>

            <div class="col-md-6">
              <strong class="group-title">Vetné sklady</strong>
              <%= f.collection_check_boxes(:element_ids, Element.relations, :id, :name) do |b| %>
                  <div class="row element">
                    <div class="col-xs-1">
                      <%= b.check_box(class: 'check_box') %>
                    </div>
                    <div class="col-xs-11">
                      <label class="text-left checkbox-option"><%= b.object.name %></label>
                    </div>
                  </div>
              <% end %>
            </div>
          </div>
        </div>

        <div class="form-group checkable prepared">
          <%= f.radio_button :elements, :prepared %>
          <%= f.label :prepared_elements, t('exercise.build.setup.prepared_elements') %>
          <div class="row">
            <div class="col-md-6">
              <strong class="group-title">Vetné členy</strong>
              <%= f.collection_check_boxes(:element_ids, Element.elements, :id, :name) do |b| %>
                  <div class="row element">
                    <div class="col-xs-1">
                      <%= b.check_box(class: 'check_box') %>
                    </div>
                    <div class="col-xs-11">
                      <label class="text-left checkbox-option"><%= b.object.name %></label>
                    </div>
                  </div>
              <% end %>
            </div>
          </div>
        </div>

        <div class="form-group">
          <%= f.label :description, t('exercise.build.setup.task_title') %>
          <%= f.text_area :description, class: 'form-control', rows: 5 %>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary pull-right"><%= t('form.next') %></button>
        </div>
    <% end %>
  </div>
</div>
